{% extends "layouts/wrapper.html" %}

{% block inner_content %}
  <h1 class="text-center">{{ object|yesno:"Update,Create" }} dish</h1>

  <form role="form" method="post" action="" class="w-lg-40 mx-auto">
    {% csrf_token %}

    <div class="input-group input-group-outline mb-3">
      {{ form.name }}
    </div>
    <span class="text-danger">{{ form.name.errors }}</span>

    <div class="input-group input-group-outline mb-3">
      {{ form.description }}
    </div>
    <span class="text-danger">{{ form.description.errors }}</span>

    <div class="input-group input-group-outline mb-3">
      {{ form.price }}
    </div>
    <span class="text-danger">{{ form.price.errors }}</span>

    <label>Dish type:</label>
    <div class="input-group input-group-outline mb-3">
      {{ form.dish_type }}
    </div>
    <span class="text-danger">{{ form.dish_type.errors }}</span>

    <div class="form-group mb-2">
      <label for="id_cooks">Cooks:</label>
      <ul class="list-unstyled">
        {% for cook in form.fields.cooks.queryset %}
          <li class="form-check">
            <input
                type="checkbox"
                class="form-check-input"
                name="cooks"
                value="{{ cook.pk }}"
                id="id_cook_{{ cook.pk }}"
                {% if cook in form.initial.cooks %}
                    checked
                {% endif %}
            >
            <label class="form-check-label" for="{{ cook.id_for_label }}">{{ cook }}</label>
          </li>
        {% endfor %}
      </ul>
    </div>
    <span class="text-danger">{{ form.cooks.errors }}</span>

    <div class="text-center">
      <button type="submit" name="register"
              class="btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0">
        {{ object|yesno:"Update,Create" }}
      </button>
    </div>
  </form>
{% endblock %}
